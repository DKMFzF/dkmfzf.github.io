"use strict";(globalThis.webpackChunkdkmfzf_frontend_portfolio=globalThis.webpackChunkdkmfzf_frontend_portfolio||[]).push([[291],{8291:(n,e,r)=>{r.r(e),r.d(e,{default:()=>a});var o=r(74848),i=r(96540),t=r(24922),s=r(39437);const a=()=>{const n=(0,i.useRef)(null),e=(0,i.useRef)(new t.I9Y(0,0));return(0,i.useEffect)((()=>{const r=new t.Z58,o=new t.qUd(-1,1,1,-1,.1,10),i=new s.WebGLRenderer({antialias:!0});i.setSize(window.innerWidth,window.innerHeight),n.current&&n.current.appendChild(i.domElement);const a=new t.bdM(2,2),u=new t.BKk({vertexShader:"varying vec2 vUv;\r\nvarying vec3 vNormal;\r\nvarying vec3 vPosition;\r\nvarying vec3 vWorldPosition;\r\n\r\nvoid main() {\r\n  vUv = uv;\r\n  vNormal = normal;\r\n  vPosition = position;\r\n  vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\r\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n}",fragmentShader:"precision highp float;\r\nuniform float u_time;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_mouse;\r\n\r\nfloat hash(vec2 p) {\r\n  return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);\r\n}\r\nfloat noise(vec2 p) {\r\n  vec2 i = floor(p);\r\n  vec2 f = fract(p);\r\n  vec2 u = f * f * (3.0 - 2.0 * f);\r\n  return mix(\r\n    mix(hash(i), hash(i + vec2(1.0, 0.0)), u.x),\r\n    mix(hash(i + vec2(0.0, 1.0)), hash(i + vec2(1.0, 1.0)), u.x),\r\n    u.y\r\n  );\r\n}\r\nfloat fbm(vec2 p) {\r\n  float val = 0.0;\r\n  float amp = 0.5;\r\n  for (int i = 0; i < 5; i++) {\r\n    val += amp * noise(p);\r\n    p *= 2.0;\r\n    amp *= 0.5;\r\n  }\r\n  return val;\r\n}\r\n\r\nvoid main() {\r\n  vec2 uv = gl_FragCoord.xy / u_resolution.xy;\r\n  vec2 p = uv - 0.5;\r\n  p.x *= u_resolution.x / u_resolution.y;\r\n\r\n  vec2 mouse = u_mouse / u_resolution;\r\n  vec2 mouseCentered = mouse - 0.5;\r\n  mouseCentered.x *= u_resolution.x / u_resolution.y;\r\n\r\n  // Притягиваем к мыши\r\n  float distToMouse = length(p - mouseCentered);\r\n  p += 0.15 * normalize(p - mouseCentered) * exp(-distToMouse * 10.0);\r\n\r\n  // Пульсация\r\n  p += 0.15 * sin(5.0 * p.yx + u_time * 1.5);\r\n\r\n  float r = length(p);\r\n  float angle = atan(p.y, p.x);\r\n\r\n  float n = fbm(p * 3.0 + u_time * 0.5);\r\n  float core = smoothstep(0.3, 0.0, r - n * 0.15);\r\n  float glow = exp(-r * 4.0);\r\n\r\n  vec3 gradient = mix(vec3(1.0, 0.2, 0.0), vec3(0.0, 0.0, 1.0), uv.y);\r\n  float rays = sin(angle * 10.0 + u_time * 2.0) * 0.1;\r\n  float rayMask = smoothstep(0.2, 0.0, abs(rays - r));\r\n\r\n  vec3 col = vec3(0.0);\r\n  col += core * gradient;\r\n  col += glow * vec3(1.0, 0.0, 1.0);\r\n  col += pow(glow, 1.5) * vec3(0.3, 0.0, 1.0);\r\n  col += rayMask * vec3(1.0, 0.0, 0.8);\r\n\r\n  gl_FragColor = vec4(col, 1.0);\r\n}\r\n",uniforms:{u_time:{value:0},u_resolution:{value:new t.I9Y(window.innerWidth,window.innerHeight)},u_mouse:{value:new t.I9Y(0,0)}}}),l=new t.eaF(a,u);r.add(l),o.position.z=1;const v=n=>{e.current.set(n.clientX,window.innerHeight-n.clientY)};let c;window.addEventListener("mousemove",v);const d=()=>{c=requestAnimationFrame(d),u.uniforms.u_time.value+=.01,u.uniforms.u_mouse.value.copy(e.current),i.render(r,o)};d();const m=()=>{i.setSize(window.innerWidth,window.innerHeight),u.uniforms.u_resolution.value.set(window.innerWidth,window.innerHeight),o.updateProjectionMatrix()};return window.addEventListener("resize",m),()=>{cancelAnimationFrame(c),window.removeEventListener("resize",m),window.removeEventListener("mousemove",v),n.current&&n.current.contains(i.domElement)&&n.current.removeChild(i.domElement)}}),[]),(0,o.jsx)("div",{ref:n,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0}})}}}]);